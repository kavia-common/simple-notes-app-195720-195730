{"is_source_file": true, "format": "JavaScript", "description": "This file defines a React component for a Notes Page in a web application. It manages state for notes, handles loading, creating, editing, and deleting notes via API calls, and renders the UI components for notes list, editing, and header.", "external_files": ["../components/Header", "../components/NoteEditor", "../components/NotesList", "../api/notesApi", "./NotesPage.css"], "external_methods": ["listNotes", "createNote", "deleteNote", "updateNote"], "published": ["NotesPage"], "classes": [], "methods": [{"name": "normalizeNotesList(payload)", "description": "Normalizes the payload from the backend API to an array of notes, handling different possible formats.", "scope": "", "scopeKind": ""}, {"name": "toErrorMessage(err)", "description": "Converts an error object or string into a human-readable error message.", "scope": "", "scopeKind": ""}, {"name": "refreshNotes({ keepSelection = true } = {})", "description": "Fetches the list of notes from the backend and updates the state, preserving or resetting selection based on parameters.", "scope": "NotesPage", "scopeKind": "function"}, {"name": "handleNewNote()", "description": "Prepares the UI for creating a new note by resetting relevant state.", "scope": "NotesPage", "scopeKind": "function"}, {"name": "handleSelect(id)", "description": "Selects a note for editing, updating the mode and selected ID.", "scope": "NotesPage", "scopeKind": "function"}, {"name": "handleDelete(id)", "description": "Deletes a note via API and updates the list, handling errors.", "scope": "NotesPage", "scopeKind": "function"}, {"name": "handleSubmit(noteDraft)", "description": "Handles submitting a new or edited note to the backend and updates UI state accordingly.", "scope": "NotesPage", "scopeKind": "function"}, {"name": "NotesPage()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["listNotes", "deleteNote", "refreshNotes", "createNote", "updateNote"], "search-terms": ["NotesPage", "NotesList", "NoteEditor", "notesApi", "React useState", "React useEffect", "React useMemo"], "state": 2, "file_id": 20, "knowledge_revision": 47, "git_revision": "e1727623eeb134b27766a45a36e31dfa1fb321ac", "ctags": [{"_type": "tag", "name": "NotesPage", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195720-195730/notes_frontend/src/pages/NotesPage.js", "pattern": "/^export default function NotesPage() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "editorMode", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195720-195730/notes_frontend/src/pages/NotesPage.js", "pattern": "/^            initialNote={editorMode === 'edit' ? selectedNote : null}$/", "language": "JavaScript", "kind": "property", "scope": "NotesPage.initialNote", "scopeKind": "class"}, {"_type": "tag", "name": "editorMode", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195720-195730/notes_frontend/src/pages/NotesPage.js", "pattern": "/^            mode={editorMode}$/", "language": "JavaScript", "kind": "field", "scope": "NotesPage.mode", "scopeKind": "class"}, {"_type": "tag", "name": "handleDelete", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195720-195730/notes_frontend/src/pages/NotesPage.js", "pattern": "/^  async function handleDelete(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)", "scope": "NotesPage", "scopeKind": "function"}, {"_type": "tag", "name": "handleNewNote", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195720-195730/notes_frontend/src/pages/NotesPage.js", "pattern": "/^            onCancel={handleNewNote}$/", "language": "JavaScript", "kind": "field", "scope": "NotesPage.onCancel", "scopeKind": "class"}, {"_type": "tag", "name": "handleNewNote", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195720-195730/notes_frontend/src/pages/NotesPage.js", "pattern": "/^  function handleNewNote() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "NotesPage", "scopeKind": "function"}, {"_type": "tag", "name": "handleSelect", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195720-195730/notes_frontend/src/pages/NotesPage.js", "pattern": "/^  function handleSelect(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)", "scope": "NotesPage", "scopeKind": "function"}, {"_type": "tag", "name": "handleSubmit", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195720-195730/notes_frontend/src/pages/NotesPage.js", "pattern": "/^            onSubmit={handleSubmit}$/", "language": "JavaScript", "kind": "field", "scope": "NotesPage.onSubmit", "scopeKind": "class"}, {"_type": "tag", "name": "handleSubmit", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195720-195730/notes_frontend/src/pages/NotesPage.js", "pattern": "/^  async function handleSubmit(noteDraft) {$/", "language": "JavaScript", "kind": "function", "signature": "(noteDraft)", "scope": "NotesPage", "scopeKind": "function"}, {"_type": "tag", "name": "initialNote", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195720-195730/notes_frontend/src/pages/NotesPage.js", "pattern": "/^            initialNote={editorMode === 'edit' ? selectedNote : null}$/", "language": "JavaScript", "kind": "class", "scope": "NotesPage", "scopeKind": "class"}, {"_type": "tag", "name": "isSaving", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195720-195730/notes_frontend/src/pages/NotesPage.js", "pattern": "/^            isSaving={isSaving}$/", "language": "JavaScript", "kind": "field", "scope": "NotesPage.isSaving", "scopeKind": "class"}, {"_type": "tag", "name": "normalizeNotesList", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195720-195730/notes_frontend/src/pages/NotesPage.js", "pattern": "/^function normalizeNotesList(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}, {"_type": "tag", "name": "refreshNotes", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195720-195730/notes_frontend/src/pages/NotesPage.js", "pattern": "/^  async function refreshNotes({ keepSelection = true } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ keepSelection = true } = {})", "scope": "NotesPage", "scopeKind": "function"}, {"_type": "tag", "name": "saveError", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195720-195730/notes_frontend/src/pages/NotesPage.js", "pattern": "/^            error={saveError}$/", "language": "JavaScript", "kind": "field", "scope": "NotesPage.error", "scopeKind": "class"}, {"_type": "tag", "name": "toErrorMessage", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195720-195730/notes_frontend/src/pages/NotesPage.js", "pattern": "/^function toErrorMessage(err) {$/", "language": "JavaScript", "kind": "function", "signature": "(err)"}], "hash": "1d12ccf1109177526a30964063b30892", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/pages/NotesPage.js", "fields": [{"name": "initialNote={editorMode === 'edit' ? selectedNote : null}", "scope": "NotesPage.initialNote", "scopeKind": "class", "description": "unavailable"}, {"name": "mode={editorMode}", "scope": "NotesPage.mode", "scopeKind": "class", "description": "unavailable"}, {"name": "onCancel={handleNewNote}", "scope": "NotesPage.onCancel", "scopeKind": "class", "description": "unavailable"}, {"name": "onSubmit={handleSubmit}", "scope": "NotesPage.onSubmit", "scopeKind": "class", "description": "unavailable"}, {"name": "isSaving={isSaving}", "scope": "NotesPage.isSaving", "scopeKind": "class", "description": "unavailable"}, {"name": "error={saveError}", "scope": "NotesPage.error", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"47": "e1727623eeb134b27766a45a36e31dfa1fb321ac"}]}